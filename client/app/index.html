<Header ref:header/>
<Folders ref:folders/>
<Notes ref:notes/>
<Editor ref:editor/>
<Palette ref:palette/>
<Keyboard ref:keyboard/>

<script>
import {Store, EVENT} from '../data';
import {setUrl, getStateFromUrl} from '../util';

export default {
	components: {
		Header: '../header',
		Folders: '../folders',
		Notes: '../notes',
		Editor: '../editor',
		Palette: '../palette',
		Keyboard: '../keyboard',
	},
	store: () => Store,
	oncreate () {
		this.store.on('state', ({ changed, current }) => setUrl(current));
		this.store.set(getStateFromUrl());
		EVENT.fire(EVENT.notes.load);
	},

};

</script>
