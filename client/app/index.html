<Header/>
<Folders/>
<Notes/>
<Editor/>
<Palette/>
<Keyboard/>
<Toaster/>

<script>
import Header from '../header';
import Palette from '../palette';
import Toaster from '../toaster';
import Keyboard from '../keyboard';
import Folders from '../folders';
import Notes from '../notes';
import Editor from '../editor';
import { onMount } from 'svelte';
import { EVENT } from '../data';
import { folder, note } from '../stores';
import { setUrl, setStateFromUrl } from '../util';


onMount(async () => {
	folder.subscribe(() => setUrl($folder, $note));
	note.subscribe(() => setUrl($folder, $note));
	setStateFromUrl(folder, note);

	setTimeout(() => EVENT.fire(EVENT.notes.load));
});


</script>
