<div class="folders">
	<!-- <h2>
		<span>Folders</span>
	</h2> -->
	<div class="scroller" ref:list>
		{#each folders as folder}
			<a href="#"
				class="folder {folder === $folder ? 'selected' : ''}"
				on:click="onclick(event, folder)">{folder || NO_FOLDER}</a>
		{/each}
	</div>
</div>


<script>
import {Data, Store} from '../data';
const NO_FOLDER = '- no folder -';
export default {
	data () {
		return {};
	},
	store: () => Store,
	computed: {
		folders ({$notes}) {
			let folders = $notes.map(n => n.folder);
			folders = [...new Set(folders)];
			return folders.sort((a, b) => a.localeCompare(b));
		}
	},
	helpers: {
		NO_FOLDER
	},
	oncreate () {},

	methods: {
		selectItem (folder) {
			this.store.set({ folder, note: null });
		},

		onclick (ev, folder) {
			ev.preventDefault();
			this.selectItem(folder);
		},

	}
};
</script>
