<div class="folders">
	<div class="scroller" ref:list>
		{#each folders as folder}
			<a href="#"
				class="folder {folder === $folder ? 'selected' : ''}"
				on:click="onclick(event, folder)">{folder || '- no folder -'}</a>
		{/each}
	</div>
</div>

<script>
import {Data, Store} from '../data';
export default {
	store: () => Store,
	computed: {
		folders ({$notes}) {
			let folders = $notes.map(n => n.folder);
			folders = [...new Set(folders)];
			return folders.sort((a, b) => a.localeCompare(b));
		}
	},
	methods: {
		selectItem (folder) {
			this.store.set({ folder, note: null });
		},
		onclick (ev, folder) {
			ev.preventDefault();
			this.selectItem(folder);
		},
	}
};
</script>
